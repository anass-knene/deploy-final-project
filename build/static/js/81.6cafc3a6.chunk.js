"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[81],{8947:function(e,t,n){n(2791);t.Z=n.p+"static/media/hotPan.1d1d509d652fdbf8537fa4c0176f02d1.svg"},7081:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var a=n(1413),o=n(885),i=n(2791),r=n(5316),s=n(3360),l=n(2426),d=n.n(l),c=n(8168),u=n(4376),m=n(1830),h=n.n(m),j=n(8947),p=n(8395),f=n(6194),b=n(184);var x=function(e){var t=(0,i.useContext)(c.I),n=t.companyLoginData,s=t.setCompanyLoginData,l=t.oneCompanyJob,d=(0,u.D)(p.qD,{refetchQueries:[{query:f.Jq},{query:f.WY,variables:{getOneCompanyId:n.id}}],awaitRefetchQueries:!0}),m=(0,o.Z)(d,2),x=m[0],v=m[1],g=(v.data,v.loading,v.error);return(0,b.jsx)("div",{children:(0,b.jsxs)(r.Z,(0,a.Z)((0,a.Z)({},e),{},{size:"lg",centered:!0,className:"ProfileUpdate jobsAdminModalBg ",children:[(0,b.jsx)(r.Z.Header,{closeButton:!0,children:(0,b.jsx)(r.Z.Title,{className:"contained-modal-title-vcenter w-100",children:(0,b.jsxs)("div",{className:"update-jobs-title d-flex align-items-center justify-content-around",children:[(0,b.jsx)("h3",{children:"Update Job Post"}),(0,b.jsx)("img",{alt:"",src:j.Z,width:"80",height:"80"})]})})}),(0,b.jsx)(r.Z.Body,{className:"modalBody",children:(0,b.jsxs)("form",{className:"container modalForm",onSubmit:function(t){var o,i,r,d,c;if(t.preventDefault(),void 0!==t.target.jobTitle.value&&""!==t.target.jobTitle.value&&(o=t.target.jobTitle.value),void 0!==t.target.startDate.value&&""!==t.target.startDate.value&&(i=t.target.startDate.value),void 0!==t.target.endDate.value&&""!==t.target.endDate.value&&(r=t.target.endDate.value),void 0!==t.target.numOfPeopleNeeded.value&&""!==t.target.numOfPeopleNeeded.value&&(d=Number(t.target.numOfPeopleNeeded.value)),void 0!==t.target.jobDescription.value&&""!==t.target.jobDescription.value&&(c=t.target.jobDescription.value),o!==t.target.jobTitle.value&&i!==t.target.startDate.value&&r!==t.target.endDate.value&&d!==Number(t.target.numOfPeopleNeeded.value)&&c!==t.target.jobDescription.value)return h().fire({position:"top",icon:"error",title:"nothing change",showConfirmButton:!1,timer:1e3}),e.onHide();e.onHide(),x({variables:{updateJobId:l.id,jobTitle:o,startDate:i,endDate:r,numOfPeopleNeeded:d,jobDescription:c}}).then((function(e){if(e.data){var t=(0,a.Z)((0,a.Z)({},n),{},{jobs:n.jobs.map((function(t){return t.id===e.data.updateJob.id?e.data.updateJob:t}))});s(t),h().fire({position:"top",icon:"success",title:"Post updated successfully",showConfirmButton:!1,timer:1e3})}g&&h().fire({position:"top",icon:"error",title:"something went wrong",showConfirmButton:!1,timer:1e3})}))},children:[(0,b.jsxs)("div",{className:"modalDiv form-group",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"jobTitle",children:"Job Title"}),(0,b.jsx)("input",{id:"jobTitle",className:"form-control",type:"text",name:"jobTitle",placeholder:l.job_Title,minLength:"2",maxLength:"50"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"peopleNeeded",children:"People Needed"}),(0,b.jsx)("input",{id:"peopleNeeded",className:"form-control",type:"number",name:"numOfPeopleNeeded",placeholder:l.num_of_people_needed})]})]}),(0,b.jsxs)("div",{className:"modalDiv",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"inputTwo2",children:"Start Date"}),(0,b.jsx)("input",{id:"startDate",className:"form-control",type:"text",name:"startDate",placeholder:l.start_Date})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"endDate",children:"End Date"}),(0,b.jsx)("input",{id:"startDate",className:"form-control",type:"text",name:"endDate",placeholder:l.end_Date})]})]}),(0,b.jsxs)("div",{className:"textInput",children:[(0,b.jsx)("label",{children:"Description"}),(0,b.jsx)("textarea",{name:"jobDescription",cols:"60",rows:"8",placeholder:l.job_description,minLength:"5",maxLength:"500"})]}),(0,b.jsx)(r.Z.Footer,{className:"modal-footer border-0",children:(0,b.jsx)("input",{type:"submit",value:"Save",className:"btn btn-secondary ps-3 pe-3"})})]})})]}))})};var v=function(e){var t=(0,i.useContext)(c.I),n=t.oneCompanyJob,l=t.companyLoginData,d=t.setCompanyLoginData,m=(0,u.D)(p.Wr,{refetchQueries:[{query:f.Jq},{query:f.WY,variables:{getOneCompanyId:l.id}}],awaitRefetchQueries:!0}),j=(0,o.Z)(m,2),x=j[0],v=j[1],g=(v.data,v.loading,v.error);return(0,b.jsx)("div",{children:(0,b.jsxs)(r.Z,(0,a.Z)((0,a.Z)({},e),{},{size:"m",centered:!0,className:"companyProfileUpdate jobsAdminModalBg",children:[(0,b.jsxs)(r.Z.Body,{className:"text-center",children:[(0,b.jsx)("h4",{children:"Delete Job Post"}),(0,b.jsx)("p",{children:"Are you sure? This action cannot be reverted."})]}),(0,b.jsxs)(r.Z.Footer,{children:[(0,b.jsx)(s.Z,{onClick:e.onHide,variant:"secondary",className:"btn-block",children:"Close"}),(0,b.jsx)(s.Z,{className:"btn-block btn-pepper",onClick:function(){x({variables:{deleteJobId:n.id}}).then((function(t){if(t.data.deleteJob.success){var o=(0,a.Z)((0,a.Z)({},l),{},{jobs:l.jobs.filter((function(e){return e.id!==n.id}))});d(o),e.onHide(),h().fire({position:"top",icon:"success",title:"job deleted successfully",showConfirmButton:!1,timer:1e3})}g&&h().fire({position:"top",icon:"error",title:"something went wrong",showConfirmButton:!1,timer:1e3})}))},children:"Delete"})]})]}))})};var g=n.p+"static/media/luggageBoy.d75ebf99801e492220943f5419417220.svg";var D=function(e){var t=(0,i.useState)(),n=(0,o.Z)(t,2),l=n[0],u=n[1],m=(0,i.useState)(),h=(0,o.Z)(m,2),j=h[0],p=h[1],f=(0,i.useContext)(c.I),D=f.companyLoginData,y=f.setOneCompanyJob,N=function(e){var t=D.jobs.find((function(t){return t.id===e}));y(t)};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(r.Z,(0,a.Z)((0,a.Z)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,size:"xl",children:[(0,b.jsx)(r.Z.Header,{closeButton:!0,children:(0,b.jsx)(r.Z.Title,{className:"contained-modal-title-vcenter w-100",children:(0,b.jsxs)("div",{className:"admin-jobs-title d-flex align-items-center justify-content-around",children:[(0,b.jsx)("h3",{children:"Job Posts Admin "}),(0,b.jsx)("img",{alt:"",src:g,width:"80",height:"80"})]})})}),(0,b.jsxs)(r.Z.Body,{children:[(0,b.jsx)("div",{className:"companyJobs",children:D.jobs&&D.jobs.map((function(e){var t=e.id,n=e.job_Title,a=e.start_Date,o=e.end_Date,i=e.job_description,r=e.num_of_people_needed;return(0,b.jsxs)("div",{className:"jobsCard",children:[(0,b.jsx)("h4",{children:n}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{children:"To work from ".concat(d()(a).locale("en").format("ll")," til ").concat(d()(o).locale("en").format("ll"),".")}),(0,b.jsx)("p",{children:"".concat(r," people needed")}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:" Description: "}),(0,b.jsx)("span",{children:(0,b.jsxs)("em",{children:[" ",i]})})]}),(0,b.jsxs)("div",{className:"adminJobsButtons",children:[(0,b.jsx)(s.Z,{id:t,variant:"secondary",onClick:function(){u(!0),N(t)},children:"Edit"}),(0,b.jsx)(x,{show:l,onHide:function(){return u(!1)}}),(0,b.jsx)(s.Z,{id:t,variant:"secondary",className:"deleteButton",onClick:function(){p(!0),N(t)},children:"Delete"}),(0,b.jsx)(v,{show:j,onHide:function(){return p(!1)}})]})]})]},t)}))}),(0,b.jsx)(r.Z.Footer,{className:"modal-footer border-0"})]})]}))})}}}]);
//# sourceMappingURL=81.6cafc3a6.chunk.js.map